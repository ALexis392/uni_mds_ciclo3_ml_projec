# ğŸš¨ Fraud Detection System

**Credit Card Fraud Detection usando Machine Learning y MLOps**

Sistema inteligente para detectar fraudes en transacciones de tarjeta de crÃ©dito utilizando modelos de machine learning en producciÃ³n.

---

## ğŸ“‹ DescripciÃ³n

Este proyecto implementa un **pipeline completo de MLOps** para detecciÃ³n de fraude en transacciones bancarias con:

- âœ… **EDA**: AnÃ¡lisis exploratorio exhaustivo del dataset
- âœ… **Modelado**: Entrenamiento de 3 modelos (LR, RF, XGB)
- âœ… **EvaluaciÃ³n**: MÃ©tricas ROC-AUC > 0.95, F1 > 0.70
- âœ… **API REST**: FastAPI con interfaz web HTML
- âœ… **ModularizaciÃ³n**: CÃ³digo escalable y reutilizable
- âœ… **Testing**: Suite de tests unitarios e integraciÃ³n

---

## ğŸ¯ Resultados

| MÃ©trica | Valor |
|---------|-------|
| **ROC-AUC (XGBoost)** | ~0.98 âœ… |
| **F1-Score** | ~0.80 âœ… |
| **PrecisiÃ³n** | ~0.85 |
| **Recall** | ~0.75 |

---

## ğŸ“ Estructura del Proyecto

```
fraud_detection/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/                    # Dataset original
â”‚   â”‚   â””â”€â”€ creditcard.csv
â”‚   â””â”€â”€ training/               # Datos procesados
â”œâ”€â”€ models/                     # Modelos entrenados
â”‚   â”œâ”€â”€ lr_model.pkl
â”‚   â”œâ”€â”€ rf_model.pkl
â”‚   â”œâ”€â”€ xgb_model.pkl
â”‚   â””â”€â”€ scaler.pkl
â”œâ”€â”€ notebooks/                  # Scripts de anÃ¡lisis
â”‚   â”œâ”€â”€ 01_eda.py
â”‚   â”œâ”€â”€ 02_modeling.py
â”‚   â””â”€â”€ 03_evaluation.py
â”œâ”€â”€ src/                        # CÃ³digo modular
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ serving.py
â”‚   â”œâ”€â”€ data_preparation.py
â”‚   â”œâ”€â”€ train.py
â”‚   â”œâ”€â”€ model_utils.py
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ index.html
â”œâ”€â”€ tests/                      # Tests
â”‚   â”œâ”€â”€ test_data_pipeline.py
â”‚   â””â”€â”€ test_model_inference.py
â”œâ”€â”€ experiments/
â”‚   â””â”€â”€ quick_test.py
â”œâ”€â”€ reports/                    # Resultados
â”‚   â”œâ”€â”€ eda_summary.md
â”‚   â”œâ”€â”€ model_comparison.md
â”‚   â””â”€â”€ final_results.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â””â”€â”€ .gitignore
```

---

## ğŸš€ Inicio RÃ¡pido

### 1. InstalaciÃ³n

```bash
# Clonar repositorio
git clone <url>
cd fraud_detection

# Instalar dependencias
pip install -r requirements.txt
```

### 2. Ejecutar API

```bash
python src/main.py
```

Abre: **http://localhost:8888**

### 3. Tests

```bash
pytest tests/ -v
```

---

## ğŸ“Š Uso

### **Interfaz Web (Recomendado)**

1. Ejecuta `python src/main.py`
2. Abre http://localhost:8888
3. Completa el formulario
4. Haz clic en "Analizar TransacciÃ³n"

### **API REST**

```bash
curl -X POST "http://localhost:8888/predict" \
  -H "Content-Type: application/json" \
  -d '{
    "V1": -1.359807,
    "V2": -0.072781,
    ...
    "Amount": 149.62,
    "Time": 0
  }'
```

---

## ğŸ“¦ Dependencias

Ver `requirements.txt` para lista completa.

**Principales:**
- pandas, numpy
- scikit-learn, xgboost
- fastapi, uvicorn
- pytest

---

## ğŸ§ª Testing

```bash
# Todos los tests
pytest tests/ -v

# Test especÃ­fico
pytest tests/test_data_pipeline.py -v

# Quick validation
python experiments/quick_test.py
```

---

## ğŸ“ˆ MÃ©tricas

| Modelo | ROC-AUC | F1 |
|--------|---------|-----|
| LR | 0.94 | 0.71 |
| RF | 0.96 | 0.76 |
| **XGB** | **0.98** | **0.80** |

---

## ğŸ› ï¸ TecnologÃ­as

- Python 3.10+
- FastAPI
- XGBoost
- scikit-learn
- Pandas, NumPy
- Pytest

---

## ğŸ“ Notas

1. Dataset: 284,807 transacciones
2. Fraudes: 0.172% (492 casos)
3. Features: 30 (V1-V28 + Amount + Time)
4. Train/Test: 70/30 (stratificado)

---

## ğŸš¨ Niveles de Riesgo

- ğŸ”´ **Alto**: Probabilidad > 80%
- ğŸŸ¡ **Medio**: 50-80%
- ğŸŸ¢ **Bajo**: < 20%

---

## â“ Troubleshooting

### Error: "Feature names should match"
â†’ Verificar orden: Time, V1-V28, Amount, Amount_log, Time_fraction

### Error: "Port already in use"
â†’ Cambiar puerto en `src/main.py`

### Error: "Model not loaded"
â†’ Verificar archivos en `models/`

---

## ğŸ“ Soporte

Para dudas o problemas, abre un issue en GitHub.

---

**Ãšltima actualizaciÃ³n**: Febrero 2026  
ğŸš€ **Â¡Listo para producciÃ³n!**